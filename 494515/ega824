CREATE TABLE EGA.TBCMEMANDATO (
  CMMCODIGO smallint  not null ,
  CMECODIGO smallint  not null ,
  CMMDESCRICAO varchar(100)  not null ,
  TXJCODIGO integer  not null ,
  CMMDATAINICIO date  not null ,
  CMMDATATERMINO date  not null ,
  CMMRECONDPERMITIDA smallint  not null ,
  CMMATIVO smallint DEFAULT 1 not null ,
  CONSTRAINT CHECK_CMMRECONDPERMITIDA CHECK (CMMRECONDPERMITIDA IN (0,4,3,2,1)),
  CONSTRAINT DOM15_CMMATIVO CHECK (CMMATIVO IN (0,1))
);
COMMENT ON TABLE EGA.TBCMEMANDATO IS 'Mandato do Conselho Municipal de Educação';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMMCODIGO IS 'Código';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMECODIGO IS 'Código';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMMDESCRICAO IS 'Descrição';
COMMENT ON COLUMN EGA.TBCMEMANDATO.TXJCODIGO IS 'Código do Texto Jurídico';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMMDATAINICIO IS 'Data de Início da Vigência';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMMDATATERMINO IS 'Data de Término';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMMRECONDPERMITIDA IS 'Reconduçõe Permitidas';
COMMENT ON COLUMN EGA.TBCMEMANDATO.CMMATIVO IS 'Ativo?';

ALTER TABLE EGA.TBCMEMANDATO ADD CONSTRAINT  PK_TBCMEMANDATO PRIMARY KEY (CMMCODIGO) USING INDEX TABLESPACE INDICE;

ALTER TABLE EGA.TBCMEMANDATO ADD CONSTRAINT "FK TBCMEMANDATO -> TBTEXTOJURIDICO" FOREIGN KEY (TXJCODIGO) REFERENCES wlg.TBTEXTOJURIDICO (TXJCODIGO) ;
ALTER TABLE EGA.TBCMEMANDATO ADD CONSTRAINT "FK TBCMEMANDATO -> TBCONSELHOMUNICIPALEDU" FOREIGN KEY (CMECODIGO) REFERENCES EGA.TBCONSELHOMUNICIPALEDU (CMECODIGO) ;
